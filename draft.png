test_image = 'https://telegra.ph/file/a71d3d2cfd43aee7bf388.jpg'

firstcharacter = 'https://telegra.ph/file/3239fa6a6b0ad4da03b78.jpg'

secondcharacter = 'https://telegra.ph/file/c54a2d5a67f6c96ceada0.jpg'

thirdcharacter = 'https://telegra.ph/file/df286deeed0cc82f481b9.jpg'

fourthcharacter = 'https://telegra.ph/file/f405812782f8748e7d636.jpg'

fifthcharacter = 'https://telegra.ph/file/e1c18bda34dba94e9d17e.jpg'

sixthcharacter = 'https://telegra.ph/file/c2224b650b098df5b7870.jpg'

seventhcharacter = 'https://telegra.ph/file/2ffd3f840c50aafff9229.jpg'

eighthcharacter = 'https://telegra.ph/file/5e033bdb03c3dd319547c.jpg'


@client.on(events.NewMessage(pattern='/start'))
async def start(event):
    sender = await event.get_sender()
    await client.send_message(event.sender_id, 'Me alive what about u')
    await genshinclient.load_lang()
    user = await genshinclient.fetch_user(849166888)
    print(f"Nickname: {user.player.nickname}")
    print(f"Level: {user.player.level}")
    print(f'Signature: {user.player.signature}')
    print(f'World level:{user.player.worldLevel}')
    print(f'Abyss: {user.player.towerFloorIndex}-{user.player.towerLevelIndex}')
    # fetch first character
    character = user.characters[1]
    print(f'Name: {character.name}')
    print(f'Ascension: {character.ascension}')
    print(f'Level: {character.level}')
    print(f'Exp: {character.experience}')
    print('Weapon:')
    weapon = character.weapon
    print(f'\tName: {weapon.name}')
    print(f'\tLevel: {weapon.level}')
    print(f'\tRefine: {weapon.refine}')
    print(f'\tStar level: {weapon.rank}')

    print('Constellations:')
    for constellation in character.constellations:
        if constellation.activated:
            print(f'\t{constellation.name} Activated')
    print('Skills:')
    for skill in character.skills:
        if skill.type == 0:
            print(f'\tNormal skill {skill.name}, level:{skill.level}')
        elif skill.type == 1:
            print(f'\tElemental skill {skill.name}, level:{skill.level}')
        elif skill.type == 2:
            print(f'\tElemental burst {skill.name}, level:{skill.level}')
    print('Artifacts:')
    for artifact in character.artifacts:
        print(f'\t{artifact.set_name} {artifact.name}:')
        print(f'\t{artifact.main_stat.prop}:{artifact.main_stat.value}')
        for sub_stats in artifact.sub_stats:
            print(f'\t\t{sub_stats.prop}:{sub_stats.value}')


@client.on(events.NewMessage(pattern='/login'))
async def handler(event):
    list_of_words = event.message.text.split(" ")
    user_id = event.sender_id
    genshinid = list_of_words[1]
    user = await genshinclient.fetch_user(genshinid)
    await event.reply("Logged in as "+str(genshinid))
    user_nickname = (f"Nickname: {user.player.nickname}")
    user_level = (f"Adventure Rank: {user.player.level}")
    user_worldlevel = (f'World level:{user.player.worldLevel}')
    user_abyss = (f'Abyss: {user.player.towerFloorIndex}-{user.player.towerLevelIndex}')
    await event.reply("{}\n{}\n{}\n{}".format(user_nickname, user_level, user_worldlevel, user_abyss))

@client.on(events.NewMessage(pattern='/mycharacter'))
async def handler(event):
    await client.send_file(event.chat_id, file = test_image, caption = 'select which character u want to see'
         ,
         buttons=[
                  [
                     Button.inline('1', 'first_character'),
                     Button.inline('2', 'second_character'),
                     Button.inline('3', 'third_character'),
                     Button.inline('4', 'fourth_character')
                  ],
                  [
                     Button.inline('5', 'fifth_character'),
                     Button.inline('6', 'sixth_character'),
                     Button.inline('7', 'seventh_character'),
                     Button.inline('8', 'eighth_character')
                  ]
                 ]
                )

@client.on(events.CallbackQuery(data='first_character'))
async def approvecb(event):
     await client.send_file(event.chat_id, firstcharacter)
     await client.delete_messages(event.chat_id, event.message_id)

@client.on(events.CallbackQuery(data='second_character'))
async def approvecb(event):
     await client.send_file(event.chat_id, secondcharacter)
     await client.delete_messages(event.chat_id, event.message_id)

@client.on(events.CallbackQuery(data='third_character'))
async def approvecb(event):
     await client.send_file(event.chat_id, thirdcharacter)
     await client.delete_messages(event.chat_id, event.message_id)

@client.on(events.CallbackQuery(data='fourth_character'))
async def approvecb(event):
     await client.send_file(event.chat_id, fourthcharacter)
     await client.delete_messages(event.chat_id, event.message_id)

@client.on(events.CallbackQuery(data='fifth_character'))
async def approvecb(event):
     await client.send_file(event.chat_id, fifthcharacter)
     await client.delete_messages(event.chat_id, event.message_id)

@client.on(events.CallbackQuery(data='sixth_character'))
async def approvecb(event):
     await client.send_file(event.chat_id, sixthcharacter)
     await client.delete_messages(event.chat_id, event.message_id)

@client.on(events.CallbackQuery(data='seventh_character'))
async def approvecb(event):
     await client.send_file(event.chat_id, seventhcharacter)
     await client.delete_messages(event.chat_id, event.message_id)

@client.on(events.CallbackQuery(data='eighth_character'))
async def approvecb(event):
     await client.send_file(event.chat_id, eighthcharacter)
     await client.delete_messages(event.chat_id, event.message_id)

@client.on(events.NewMessage(pattern='/build'))
async def start(event):
    chat = await event.get_chat()
    list_of_words = event.message.text.split(" ")
    character_name = list_of_words[1]
    pattern = r'(?i).*kazuha'
    if character_name in pattern:
        await client.send_message(event.chat_id,"huihui")






genshin_hutao_pic = "https://telegra.ph/file/33e42d51bdc315cc5b7f0.jpg"

genshin_childe_pic = "https://telegra.ph/file/3f91bc97636870386266d.jpg"

genshin_xiao_pic = "https://telegra.ph/file/e56c011c4fa8932469817.jpg"

genshin_albedo_pic = "https://telegra.ph/file/65e5771355075258942c8.jpg"

genshin_keqing_pic = "https://telegra.ph/file/049e0aa28c7ca2ec3ef98.jpg"

genshin_zhongli_pic = "https://telegra.ph/file/ee73946879e8c73968f16.jpg"

genshin_raiden_pic = "https://telegra.ph/file/d2eb680a2133afb6ad655.jpg"

genshin_ayaka_pic = "https://telegra.ph/file/44e461b38a64b32cb266d.jpg"

genshin_itto_pic = "https://telegra.ph/file/492ccfab03bba59db3896.jpg"

genshin_Yae_pic = "https://telegra.ph/file/b9cfb0888fad568cb5911.jpg"

genshin_yelan_pic = "https://telegra.ph/file/09939e2ed7ab8752788b5.jpg"

genshin_tighnari_pic = "https://telegra.ph/file/339131cfe8a8060c12ee4.jpg"

genshin_mona_pic = "https://telegra.ph/file/e8d7e69d2b24d65de1cf5.jpg"

genshin_jean_pic = "https://telegra.ph/file/17bc0ad1eed044bf38cd9.jpg"

genshin_kazuha_pic = "https://telegra.ph/file/038896cc4a768f45b82a7.jpg"

genshin_klee_pic = "https://telegra.ph/file/80e3b4cbd0dd7cb6fc159.jpg"

genshin_kokomi_pic = "https://telegra.ph/file/4a9108a393fd441bf0bd2.jpg"

genshin_eula_pic = "https://telegra.ph/file/4f7cdad3a25ad86eee3eb.jpg"

genshin_qiganyu_pic = "https://telegra.ph/file/7d4c1311bb19906a957a0.jpg"

genshin_shenhe_pic = "https://telegra.ph/file/3b7652c13240ef1d35128.jpg"

genshin_ayato_pic = "https://telegra.ph/file/7a46ed168385ee7998886.jpg"

genshin_qiqi_pic = "https://telegra.ph/file/69d237fee4f6e56d70776.jpg"

genshin_aether_pic = "https://telegra.ph/file/3a6b9051db7aab04dd379.jpg"

genshin_aloy_pic = "https://telegra.ph/file/995feff9698e98d8b1127.jpg"
